<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Oops 웁스</title>
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/style-front-m.css">
  <link rel="stylesheet" href="/css/style-front-pc.css">
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
  <script src="../js/include.js" defer></script>
</head>
<body>
  <div class="container">
    <div class="wrap page12">
      <!--#####header tag에 login 클래스면 로그인 되어있는 상태-->
      <!--#####header tag에 loout 클래스면 로그아웃 되어있는 상태-->
      <header data-include="../include/front/header.html" class="y-header"></header>
      <section>
        <article class="top1">
          <h2>유지보수 신청하기</h2>
          <p>유지보수 관리까지 한번에!<br> 남다른 편리함을 경험해보세요.</p>
        </article>
        <article class="arti1">
          <div class="select">
            <select>
              <option value="">주식회사 베오 리얼티 ㅣ 22.01.03</option>
              <option value="">주식회사 베오 리얼티 ㅣ 22.01.03</option>
              <option value="">주식회사 베오 리얼티 ㅣ 22.01.03</option>
            </select>
          </div>
          <div class="cont">
            <p>요청내용</p>
            <textarea> </textarea>
          </div>
          <div class="cont">
            <p>파일첨부</p>
            <div class="file-box">
              <input class="upload-name" placeholder="첨부파일">
              <a class="del-btn"></a>
              <label for="file">+ 파일 첨부</label>
              <input type="file" id="file" class="input-file">
            </div>
          </div>
        </article>
      </section>
      <footer data-include="../include/front/footer.html" class=""></footer>
    </div>
  </div>
  <script src="/js/polyfill.js"></script>
  <script src="/js/header.js"></script>
  <script>
    let tabs = document.querySelectorAll('.tab');
    let tabWrap = document.querySelector('.tab-wrap');
    Array.prototype.forEach.call(tabs, function(e,idx) {
      e.addEventListener('click', function() {
        tabWrap.classList.remove('tab-active1', 'tab-active2', 'tab-active3')
        if(idx === 0) {
          tabWrap.classList.add('tab-active1')
        } else if(idx === 1) {
          tabWrap.classList.add('tab-active2')
        } else {
          tabWrap.classList.add('tab-active3')
        }
      })
    });
    let lists = document.querySelectorAll('.list .tit');
    Array.prototype.forEach.call(lists, function(e) {
      e.addEventListener('click', function() {
        if(e.parentNode.classList.contains('open')) {
          e.parentNode.classList.remove('open')
        } else {
          e.parentNode.classList.add('open')
        }
      })
    });

    let edit = document.querySelectorAll('.edit');
    let back = document.querySelectorAll('.cont-inner2 .btns a');
    let cont1 = document.querySelector('.p-cont1');
    Array.prototype.forEach.call(edit, function(e) {
      e.addEventListener('click', function() {
        cont1.classList.remove('inner1', 'inner2');
        cont1.classList.add('inner2');
      })
    })
    Array.prototype.forEach.call(back, function(e) {
      e.addEventListener('click', function() {
        cont1.classList.remove('inner2');
        cont1.classList.add('inner1');
      })
    });
    let inputFile = document.querySelectorAll('.input-file');
    let upLoadNm = document.querySelectorAll('.upload-name');
    let delBtns = document.querySelectorAll('.del-btn');
    Array.prototype.forEach.call(inputFile, function(e,idx) {
      $(e).on('change',function(){
        var fileName = $(e).val();
        nmPrint(fileName,idx);
      });
      function nmPrint(v,idx) {
        $(upLoadNm[idx]).val(v);
        $(delBtns[idx]).css('display','inline-block');
      }
    });

    Array.prototype.forEach.call(delBtns, function(e, idx) {
      e.addEventListener('click', function() {
        $(upLoadNm[idx]).val('');
        $(delBtns[idx]).css('display','none');
      })
    })
  </script>
</body>
</html>